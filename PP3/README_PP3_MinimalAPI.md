# Proyecto PP3 ‚Äì Minimal API con .NET 8  
**Curso:** Programaci√≥n Avanzada en Web  
**Estudiante:** Nelson Rodriguez Lopez
** Carnet:** FI20016869
**Universidad:** Fid√©litas  
**Lenguaje:** C#  
**Entorno:** Visual Studio Code  
**Framework:** .NET 8.0  

---

## üéØ Objetivo del Proyecto
Aplicar los conocimientos adquiridos al utilizar un **Minimal API** con la herramienta del **Framework ASP.NET Core (.NET 8.0)**.  
El sistema expone cuatro endpoints principales:

- `/` ‚Üí Redirige al Swagger UI.  
- `/include` ‚Üí Inserta una palabra en una posici√≥n espec√≠fica.  
- `/replace` ‚Üí Reemplaza palabras seg√∫n su longitud.  
- `/erase` ‚Üí Elimina palabras seg√∫n su longitud.  

Cada endpoint puede devolver resultados en formato **JSON** o **XML**, seg√∫n el encabezado `xml: true` del request.

---

## ‚öôÔ∏è Requisitos previos

Antes de comenzar, asegurarse de tener instalado:

1. **.NET SDK 8.0 o superior**  
   Descargar desde [https://dotnet.microsoft.com/en-us/download](https://dotnet.microsoft.com/en-us/download)

   Verificar la instalaci√≥n con:  
   ```bash
   dotnet --version
   ```
   Si devuelve algo como `8.0.100` o superior, est√° correcto.

2. **Visual Studio Code**  
   Descargar desde [https://code.visualstudio.com/](https://code.visualstudio.com/)

   Instalar las extensiones recomendadas:
   - `C# Dev Kit`
   - `C# Extensions`
   - `NuGet Package Manager GUI`

3. **Postman (opcional)**  
   Para realizar pruebas HTTP/REST con los endpoints.

---

## üß© Estructura del Proyecto

```
PP3/
 ‚îú‚îÄ‚îÄ MyProject/
 ‚îÇ   ‚îú‚îÄ‚îÄ MyProject.csproj
 ‚îÇ   ‚îú‚îÄ‚îÄ Program.cs
 ‚îÇ   ‚îî‚îÄ‚îÄ Properties/
 ‚îÇ       ‚îî‚îÄ‚îÄ launchSettings.json
 ‚îú‚îÄ‚îÄ MySolution.sln
 ‚îî‚îÄ‚îÄ README.md
```

---

## üõ†Ô∏è Configuraci√≥n paso a paso

### 1Ô∏è‚É£ Crear la soluci√≥n y el proyecto
En la terminal:
```bash
dotnet new sln -n PP3
dotnet new web -n MyProject
dotnet sln add MyProject/MyProject.csproj
```

### 2Ô∏è‚É£ Instalar Swagger
```bash
cd MyProject
dotnet add package Swashbuckle.AspNetCore --version 6.5.0
```

---

## üß∞ C√≥digo principal (`Program.cs`)

Aseg√∫rese de tener el c√≥digo **completo y actualizado** proporcionado por el profesor o el ejemplo funcional.  
**Importante:** El archivo **no debe contener** esta l√≠nea:
```csharp
using Microsoft.AspNetCore.OpenApi;
```
Swagger funciona √∫nicamente con:
```csharp
builder.Services.AddEndpointsApiExplorer();
builder.Services.AddSwaggerGen();
app.UseSwagger();
app.UseSwaggerUI();
```

---

## üö´ Errores comunes y c√≥mo resolverlos

### ‚ùå Error CS0234  
> ‚ÄúEl tipo o el nombre del espacio de nombres 'OpenApi' no existe en el espacio de nombres 'Microsoft.AspNetCore'‚Äù

**Soluci√≥n:**
- Eliminar esta l√≠nea al inicio del archivo `Program.cs`:
  ```csharp
  using Microsoft.AspNetCore.OpenApi;
  ```

---

### ‚ùå Error CS1503  
> ‚ÄúArgumento 3: no se puede convertir de ‚Äòstring‚Äô a ‚ÄòSystem.Type?‚Äô‚Äù o viceversa.

**Causa:** El m√©todo `.Produces()` no coincide con las sobrecargas de .NET 8.  
**Soluci√≥n:**  
- Eliminar o simplificar las llamadas:
  ```csharp
  .Produces(typeof(ResultDto), 200)
  .Produces(typeof(object), 400)
  ```

---

### ‚ùå Error con `WithOpenApi`
> ‚ÄúRouteHandlerBuilder does not contain a definition for 'WithOpenApi'‚Äù

**Soluci√≥n:**
- Eliminar todas las llamadas a `.WithOpenApi(...)`.  
- Swagger seguir√° funcionando normalmente con las l√≠neas base mostradas arriba.

---

## ‚ñ∂Ô∏è C√≥mo ejecutar el proyecto

1. Abrir **Visual Studio Code** en la carpeta del proyecto:
   ```bash
   cd C:\Users\nelson\PP3
   code .
   ```

2. Ejecutar los siguientes comandos en la terminal:
   ```bash
   dotnet clean
   dotnet build
   dotnet run
   ```

3. Esperar el mensaje:
   ```
   Now listening on: https://localhost:5001
   ```
4. Abrir el navegador y acceder a:
   üëâ [https://localhost:5001/swagger](https://localhost:5001/swagger)

---

## üß™ C√≥mo probar los endpoints

### 1Ô∏è‚É£ `/include`
**M√©todo:** POST  
**Ruta:** `/include/{position}`

Ejemplo:
```
POST https://localhost:5001/include/0?value=Hello
Form-data: text=This is a test
```

Resultado JSON:
```json
{
  "ori": "This is a test",
  "new": "Hello This is a test"
}
```

---

### 2Ô∏è‚É£ `/replace`
**M√©todo:** PUT  
**Ruta:** `/replace/{length}`

Ejemplo:
```
PUT https://localhost:5001/replace/4?value=hi
Form-data: text=This test will show replace
```

Resultado JSON:
```json
{
  "ori": "This test will show replace",
  "new": "hi hi will show replace"
}
```

---

### 3Ô∏è‚É£ `/erase`
**M√©todo:** DELETE  
**Ruta:** `/erase/{length}`

Ejemplo:
```
DELETE https://localhost:5001/erase/4
Form-data: text=This test will show erase
```

Resultado JSON:
```json
{
  "ori": "This test will show erase",
  "new": "will show erase"
}
```

---

## üí° Consejos de estudiante

‚úÖ Usa `dotnet clean` y `dotnet build` cada vez que modifiques el c√≥digo.  
‚úÖ Si Swagger no abre, revisa el puerto (`http://localhost:5000` o `https://localhost:5001`).  
‚úÖ Guarda el archivo antes de ejecutar `dotnet run`.  
‚úÖ Si aparecen errores `CS0234` o `CS1503`, revisa los `using` al inicio del archivo.  

---

## üí¨ Conclusi√≥n

Este proyecto permite comprender la estructura de un **Minimal API** en ASP.NET Core, trabajando con par√°metros, validaciones, y respuestas en formato JSON y XML.  
Adem√°s, ense√±a a resolver los errores m√°s frecuentes que ocurren al programar en **Visual Studio Code con .NET 8**.

---
¬øEs posible enviar valores en el Body (por ejemplo, en el Form) del Request de tipo GET?

T√©cnicamente se puede poner datos en el body de un GET, pero no es recomendado y la mayor√≠a de servidores (como en ASP.NET Core) no lo procesan. Lo mejor es usar POST o PUT si para enviar datos al servidor.

¬øQu√© ventajas y desventajas observa con el Minimal API si se compara con la opci√≥n de utilizar Controllers?

Las Minimal APIs son para proyectos peque√±os o prototipos r√°pidos porque el c√≥digo es m√°s simple y directo. Pero si el sistema crece, los Controllers son mejor opci√≥n porque permiten organizar mejor el c√≥digo, aplicar validaciones, filtros, seguridad y las versiones. 



---

**Autor:**  
üë®‚Äçüíª *Nelson Rodriguez Lopez*  
Estudiante de Ingenier√≠a en Sistemas ‚Äì Universidad Fid√©litas  
Costa Rica 
